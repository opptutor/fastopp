<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architectural Consistency When Working with a PostgreSQL Async Database - FastOpp Blog</title>
    <meta name="description" content="Easier AI Web Apps for Students - FastAPI starter package for students prototyping AI web applications">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/fastopp/assets/images/fastopp_logo.webp">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ai-blue': '#3B82F6',
                        'ai-purple': '#8B5CF6',
                        'ai-green': '#10B981'
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/fastopp/assets/css/main.css">
    
    <!-- SEO -->
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Architectural Consistency When Working with a PostgreSQL Async Database | FastOpp Blog</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Architectural Consistency When Working with a PostgreSQL Async Database" />
<meta name="author" content="Craig Oda" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How I learned that async databases need async migrations, and why the ‘quick fix’ approach doesn’t scale" />
<meta property="og:description" content="How I learned that async databases need async migrations, and why the ‘quick fix’ approach doesn’t scale" />
<link rel="canonical" href="https://oppkey.github.io/fastopp/2025/10/07/postgresql-async/" />
<meta property="og:url" content="https://oppkey.github.io/fastopp/2025/10/07/postgresql-async/" />
<meta property="og:site_name" content="FastOpp Blog" />
<meta property="og:image" content="https://oppkey.github.io/fastopp/assets/images/2025_10/run.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-10-07T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://oppkey.github.io/fastopp/assets/images/2025_10/run.jpg" />
<meta property="twitter:title" content="Architectural Consistency When Working with a PostgreSQL Async Database" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Craig Oda"},"dateModified":"2025-10-07T00:00:00+00:00","datePublished":"2025-10-07T00:00:00+00:00","description":"How I learned that async databases need async migrations, and why the ‘quick fix’ approach doesn’t scale","headline":"Architectural Consistency When Working with a PostgreSQL Async Database","image":"https://oppkey.github.io/fastopp/assets/images/2025_10/run.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://oppkey.github.io/fastopp/2025/10/07/postgresql-async/"},"url":"https://oppkey.github.io/fastopp/2025/10/07/postgresql-async/"}</script>
<!-- End Jekyll SEO tag -->

    
    <!-- Feed -->
    <link rel="alternate" type="application/rss+xml" title="FastOpp Blog" href="/fastopp/feed.xml">
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b border-gray-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-6">
                    <div class="flex items-center">
                        <a href="/fastopp/" class="text-2xl font-bold text-gray-900 hover:text-ai-blue transition-colors">
                            FastOpp Blog
                        </a>
                    </div>
                    
                    <nav class="hidden md:flex space-x-8">
                        <a href="/fastopp/" 
                           class="text-gray-700 hover:text-ai-blue transition-colors font-medium">
                            Home
                        </a>
                        <a href="/fastopp/about/" 
                           class="text-gray-700 hover:text-ai-blue transition-colors font-medium">
                            About
                        </a>
                        <a href="/fastopp/posts/" 
                           class="text-gray-700 hover:text-ai-blue transition-colors font-medium">
                            Posts
                        </a>
                        <a href="https://github.com/Oppkey/FastOpp" 
                           class="text-gray-700 hover:text-ai-blue transition-colors font-medium"
                           target="_blank" rel="noopener">
                            GitHub
                        </a>
                    </nav>
                    
                    <!-- Mobile menu button -->
                    <div class="md:hidden">
                        <button type="button" class="text-gray-700 hover:text-ai-blue focus:outline-none">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-grow">
            <article class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- Post Header -->
    <header class="mb-12">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">Architectural Consistency When Working with a PostgreSQL Async Database</h1>
        
        <div class="flex items-center text-gray-600 mb-6">
            <time datetime="2025-10-07T00:00:00+00:00" class="mr-4">
                October 07, 2025
            </time>
            <span class="mr-4">•</span>
            <span>By Craig Oda</span>
        </div>
        
        
        <img src="/fastopp/assets/images/2025_10/run.jpg" 
             alt="Architectural Consistency When Working with a PostgreSQL Async Database" 
             class="w-full h-64 object-cover rounded-lg shadow-lg">
        
    </header>
    
    <!-- Post Content -->
    <div class="prose prose-lg max-w-none">
        <h2 id="postgresql-failing-with-async-in-production-although-sqlite-works-on-my-mac">PostgreSQL Failing with Async in Production Although SQLite Works on my Mac</h2>

<p>Last week, I was working on our FastOpp project and ran into a classic developer problem: “It works on my machine, but not in production.” Specifically, our FastAPI application worked perfectly with SQLite during development, but when I tried to switch to PostgreSQL in production on Leapcell using the Leapcell PostgreSQL service,
database access broke.</p>

<h2 id="converting-database-connection-to-sync-led-to-more-problems">Converting Database Connection to Sync Led to More Problems</h2>

<p>My first instinct was the same as many developers: find a workaround. I discovered that our
migration tool (Alembic) was trying to use synchronous database operations while our
FastAPI app was using asynchronous ones.</p>

<p>The “solution” I found online was to convert the database URL from async to sync during migrations:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The "quick fix" approach - BEFORE
</span><span class="k">def</span> <span class="nf">run_migrations_online</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">database_url</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">getenv</span><span class="p">(</span><span class="s">"DATABASE_URL"</span><span class="p">,</span> <span class="n">config</span><span class="p">.</span><span class="n">get_main_option</span><span class="p">(</span><span class="s">"sqlalchemy.url"</span><span class="p">))</span>
    
    <span class="c1"># Convert async URLs to regular URLs for migrations
</span>    <span class="k">if</span> <span class="n">database_url</span> <span class="ow">and</span> <span class="s">"aiosqlite"</span> <span class="ow">in</span> <span class="n">database_url</span><span class="p">:</span>
        <span class="n">database_url</span> <span class="o">=</span> <span class="n">database_url</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"sqlite+aiosqlite://"</span><span class="p">,</span> <span class="s">"sqlite://"</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">database_url</span> <span class="ow">and</span> <span class="s">"asyncpg"</span> <span class="ow">in</span> <span class="n">database_url</span><span class="p">:</span>
        <span class="n">database_url</span> <span class="o">=</span> <span class="n">database_url</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"postgresql+asyncpg://"</span><span class="p">,</span> <span class="s">"postgresql://"</span><span class="p">)</span>
    
    <span class="n">connectable</span> <span class="o">=</span> <span class="n">engine_from_config</span><span class="p">(...)</span>  <span class="c1"># SYNC engine
</span>    <span class="k">with</span> <span class="n">connectable</span><span class="p">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>  <span class="c1"># SYNC connection
</span>        <span class="n">context</span><span class="p">.</span><span class="n">configure</span><span class="p">(</span><span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span> <span class="p">...)</span>
</code></pre></div></div>

<p>I committed the solution after only testing it on SQLite locally and unfortunately forgot
to test it on PostgreSQL.  Several months passed and my laziness came back to bite
me and cost me many hours. As I am new to Alembic, I didn’t think about
async Alembic patterns. The logic of using synchronous calls for migrations seemed fine
to me as migrations <em>felt</em> synchronous.  I didn’t think about this mismatch in architectures
too deeply, shrugging it off as “the way things are.”</p>

<h2 id="the-real-problem-architectural-mismatch">The Real Problem: Architectural Mismatch</h2>

<p>Here’s what I learned: when you build an async application, try to keep as much of your code
as possible async. Although it is possible to “convert” async to sync in the middle of your stack,
it may cause problems in the future when you have to maintain your own code.</p>

<p>The issue wasn’t with the database or the migration tool. The issue was that I was trying to mix two different paradigms:</p>

<ul>
  <li><strong>My FastAPI app</strong>: Async throughout (using <code class="language-plaintext highlighter-rouge">asyncpg</code> for PostgreSQL)</li>
  <li><strong>My migrations</strong>: Sync operations (using sync database drivers)</li>
</ul>

<h2 id="the-right-solution-go-all-in-on-async">The Right Solution: Go All-In on Async</h2>

<p>Instead of trying to convert between async and sync, I updated our migration system to be async from the ground up. Here’s the transformation:</p>

<h2 id="the-solution-pure-async-approach">The Solution: Pure Async Approach</h2>

<p>The key was updating <code class="language-plaintext highlighter-rouge">alembic/env.py</code> to use async patterns throughout:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># The RIGHT approach - AFTER
</span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.asyncio</span> <span class="kn">import</span> <span class="n">async_engine_from_config</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.engine</span> <span class="kn">import</span> <span class="n">Connection</span>

<span class="k">def</span> <span class="nf">do_run_migrations</span><span class="p">(</span><span class="n">connection</span><span class="p">:</span> <span class="n">Connection</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">context</span><span class="p">.</span><span class="n">configure</span><span class="p">(</span><span class="n">connection</span><span class="o">=</span><span class="n">connection</span><span class="p">,</span> <span class="n">target_metadata</span><span class="o">=</span><span class="n">target_metadata</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">context</span><span class="p">.</span><span class="n">begin_transaction</span><span class="p">():</span>
        <span class="n">context</span><span class="p">.</span><span class="n">run_migrations</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">run_async_migrations</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">connectable</span> <span class="o">=</span> <span class="n">async_engine_from_config</span><span class="p">(...)</span>  <span class="c1"># ASYNC engine
</span>    <span class="k">async</span> <span class="k">with</span> <span class="n">connectable</span><span class="p">.</span><span class="n">connect</span><span class="p">()</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>  <span class="c1"># ASYNC connection
</span>        <span class="k">await</span> <span class="n">connection</span><span class="p">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">do_run_migrations</span><span class="p">)</span>  <span class="c1"># Magic happens here!
</span>    <span class="k">await</span> <span class="n">connectable</span><span class="p">.</span><span class="n">dispose</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">run_migrations_online</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">run_async_migrations</span><span class="p">())</span>
</code></pre></div></div>

<h3 id="technical-implementation-details">Technical Implementation Details</h3>

<ul>
  <li><strong>Added async imports</strong>: <code class="language-plaintext highlighter-rouge">asyncio</code>, <code class="language-plaintext highlighter-rouge">Connection</code>, <code class="language-plaintext highlighter-rouge">async_engine_from_config</code></li>
  <li><strong>Replaced sync patterns</strong> with async alembic template approach</li>
  <li><strong>Added <code class="language-plaintext highlighter-rouge">do_run_migrations()</code></strong> function for connection handling</li>
  <li><strong>Added <code class="language-plaintext highlighter-rouge">run_async_migrations()</code></strong> function for async engine management</li>
  <li><strong>Updated <code class="language-plaintext highlighter-rouge">run_migrations_online()</code></strong> to use <code class="language-plaintext highlighter-rouge">asyncio.run()</code></li>
</ul>

<p>The key insight was this line:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">await</span> <span class="n">connection</span><span class="p">.</span><span class="n">run_sync</span><span class="p">(</span><span class="n">do_run_migrations</span><span class="p">)</span>
</code></pre></div></div>

<p>This allows you to run synchronous migration code within an async database connection.</p>

<h2 id="the-results-what-actually-happened">The Results: What Actually Happened</h2>

<p>After implementing the async approach, here’s what we achieved:</p>

<h3 id="single-driver-architecture"><strong>Single Driver Architecture</strong></h3>

<ul>
  <li><strong>Before</strong>: Needed both <code class="language-plaintext highlighter-rouge">asyncpg</code> (app) + <code class="language-plaintext highlighter-rouge">psycopg2</code> (migrations)</li>
  <li><strong>After</strong>: Only <code class="language-plaintext highlighter-rouge">asyncpg</code> for everything - no driver conflicts</li>
</ul>

<h3 id="consistent-database-urls"><strong>Consistent Database URLs</strong></h3>

<ul>
  <li><strong>Before</strong>: App used <code class="language-plaintext highlighter-rouge">postgresql+asyncpg://</code> but migrations converted to <code class="language-plaintext highlighter-rouge">postgresql://</code></li>
  <li><strong>After</strong>: Both use <code class="language-plaintext highlighter-rouge">postgresql+asyncpg://</code> - same driver throughout</li>
</ul>

<h3 id="works-with-both-databases"><strong>Works with Both Databases</strong></h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># SQLite (development)</span>
<span class="nb">export </span><span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">"sqlite+aiosqlite:///./test.db"</span>
uv run python oppman.py migrate upgrade  <span class="c"># ✅ Works</span>
uv run python oppman.py runserver  <span class="c"># ✅ Works</span>

<span class="c"># PostgreSQL (production)  </span>
<span class="nb">export </span><span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">"postgresql+asyncpg://user@localhost:5432/fastopp"</span>
uv run python oppman.py migrate upgrade  <span class="c"># ✅ Works</span>
uv run python oppman.py runserver  <span class="c"># ✅ Works</span>
</code></pre></div></div>

<h3 id="database-verification-results"><strong>Database Verification Results</strong></h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># PostgreSQL tables created successfully</span>
psql <span class="nt">-d</span> fastopp_test <span class="nt">-c</span> <span class="s2">"</span><span class="se">\d</span><span class="s2">t"</span>
<span class="c"># Result: users, products, webinar_registrants, audit_logs, alembic_version</span>

<span class="c"># Health check verification</span>
curl <span class="nt">-s</span> http://localhost:8000/health
<span class="c"># Result: {"status":"healthy","message":"FastOpp Demo app is running"}</span>
</code></pre></div></div>

<h2 id="benefits-of-the-async-approach">Benefits of the Async Approach</h2>

<h3 id="performance-benefits">Performance Benefits</h3>

<ul>
  <li><strong>Async operations</strong> throughout the application</li>
  <li><strong>No sync/async context switching</strong> overhead</li>
  <li><strong>Better concurrency</strong> for database operations</li>
</ul>

<h3 id="developer-experience">Developer Experience</h3>

<ul>
  <li><strong>Single driver approach</strong> - no psycopg2 conflicts</li>
  <li><strong>Environment-based switching</strong> between SQLite and PostgreSQL</li>
  <li><strong>Modern async patterns</strong> following SQLAlchemy 2.0 best practices</li>
</ul>

<h3 id="production-ready">Production Ready</h3>

<ul>
  <li><strong>PostgreSQL support</strong> for production deployments</li>
  <li><strong>Async alembic migrations</strong> work with both databases</li>
  <li><strong>No breaking changes</strong> to existing SQLite development workflow</li>
</ul>

<h2 id="why-this-matters-for-students">Why This Matters for Students</h2>

<p>If you’re learning web development, here’s the takeaway: <strong>consistency is more important than clever workarounds</strong>.</p>

<p>When you’re building modern web applications:</p>

<ul>
  <li>Choose your architecture (sync or async) and stick with it</li>
  <li>Don’t try to mix paradigms just because it seems easier</li>
  <li>The “quick fix” often becomes the “long-term problem”</li>
</ul>

<h2 id="async-database-access-may-not-be-justified">Async Database Access May Not Be Justified</h2>

<p>Standardizing on synchronous database access for everything is simpler and will
work for most apps.  Asynchronous operations are needed only for heavy
SQL joins where the response takes many seconds or minutes and need to be run
in real-time.  In most cases, people will run the operation in the background
with Celery.</p>

<p>However, even if I don’t see the need for asynchronous database connections,
other people might.  FastOpp is a learning tool and I want to provide
asynchronous connectivity to support the creativity of others.</p>

<h2 id="the-business-lesson">The Business Lesson</h2>

<p>As a manager, I’ve seen this pattern play out in many projects. The “quick fix”
that saves 30 minutes today often costs hours or days later. In this case, spending the extra time to properly implement async migrations saved us from a maintenance nightmare. The “quick fix”
was also forgotten because there is no real-world impact in using synchronous migrations.</p>

<p>The modern approach - using async patterns throughout - is not just technically correct, it’s also more maintainable and scalable.</p>

<h2 id="whats-next">What’s Next</h2>

<p>Our FastOpp project now supports both SQLite (for development) and PostgreSQL (for production) with a single, consistent async architecture. No more driver conflicts, no more sync/async mixing, and no more “it works on my machine” problems.</p>

<p>It appears that <a href="https://www.psycopg.org/psycopg3/">psycopg3</a> supports both async and sync. I don’t think it’s as popular
as asyncpg.  However, I hope to try it out next.</p>

<h2 id="migration-guide-for-existing-users">Migration Guide for Existing Users</h2>

<h3 id="no-action-required"><strong>No Action Required</strong></h3>

<ul>
  <li><strong>SQLite development</strong> continues to work exactly as before</li>
  <li><strong>Optional</strong>: Update <code class="language-plaintext highlighter-rouge">.env</code> to use <code class="language-plaintext highlighter-rouge">sqlite+aiosqlite://</code> for consistency</li>
  <li><strong>For PostgreSQL testing</strong>: Set <code class="language-plaintext highlighter-rouge">DATABASE_URL=postgresql+asyncpg://...</code></li>
</ul>

<h3 id="for-new-deployments"><strong>For New Deployments</strong></h3>

<ol>
  <li><strong>Development</strong>: Use <code class="language-plaintext highlighter-rouge">DATABASE_URL=sqlite+aiosqlite:///./test.db</code></li>
  <li><strong>Production</strong>: Use <code class="language-plaintext highlighter-rouge">DATABASE_URL=postgresql+asyncpg://user:pass@host:port/db</code></li>
  <li><strong>Run migrations</strong>: <code class="language-plaintext highlighter-rouge">uv run python oppman.py migrate upgrade</code></li>
</ol>

<h2 id="files-changed">Files Changed</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">alembic/env.py</code> - Updated to async patterns</li>
  <li><code class="language-plaintext highlighter-rouge">example.env</code> - Added PostgreSQL configuration examples</li>
  <li><code class="language-plaintext highlighter-rouge">docs/deployment/POSTGRESQL_SETUP.md</code> - Updated installation instructions</li>
  <li><code class="language-plaintext highlighter-rouge">docs/DATABASE.md</code> - Updated troubleshooting with async patterns</li>
</ul>

<h2 id="breaking-changes">Breaking Changes</h2>

<p><strong>None</strong> - This is a backward-compatible enhancement that adds PostgreSQL support while maintaining full SQLite compatibility.</p>

<h2 id="additional-information">Additional Information</h2>

<p><a href="https://github.com/Oppkey/fastopp/pull/140">Pull request with extensive description of changes</a>.</p>

    </div>
    
    <!-- Post Footer -->
    <footer class="mt-12 pt-8 border-t border-gray-200">
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
            <div class="mb-4 sm:mb-0">
                <h3 class="text-lg font-semibold text-gray-900 mb-2">About the Author</h3>
                <p class="text-gray-600">
                    Craig Oda is a partner at Oppkey and an active contributor to FastOpp
                </p>
            </div>
            
            <div class="flex space-x-4">
                <a href="https://github.com/Oppkey/FastOpp" 
                   class="text-gray-600 hover:text-ai-blue transition-colors"
                   target="_blank" rel="noopener">
                    <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
            </div>
        </div>
    </footer>
</article>

<!-- Navigation -->
<nav class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-12">
    <div class="flex justify-between">
        
        <a href="/fastopp/2025/09/30/testing-fastopp/" 
           class="flex items-center text-ai-blue hover:text-blue-700 transition-colors">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Previous: Our Process for Testing and Contributing to FastOpp
        </a>
        
        
        
        <a href="/fastopp/2025/10/08/modularize-storage-system/" 
           class="flex items-center text-ai-blue hover:text-blue-700 transition-colors">
            Next: File Upload Demo Now Runs on S3 in Addition to Local Files
            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </a>
        
    </div>
</nav>

        </main>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div>
                        <div class="mb-4">
                            <span class="text-xl font-bold">FastOpp Blog</span>
                        </div>
                        <p class="text-gray-300 mb-4">
                            Easier AI Web Apps for Students - FastAPI starter package for students prototyping AI web applications
                        </p>
                        <div class="flex space-x-4">
                            <a href="https://github.com/Oppkey/FastOpp" 
                               class="text-gray-300 hover:text-white transition-colors"
                               target="_blank" rel="noopener">
                                <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                        <ul class="space-y-2">
                            <li><a href="/fastopp/" class="text-gray-300 hover:text-white transition-colors">Home</a></li>
                            <li><a href="/fastopp/about/" class="text-gray-300 hover:text-white transition-colors">About</a></li>
                            <li><a href="/fastopp/posts/" class="text-gray-300 hover:text-white transition-colors">Blog Posts</a></li>
                            <li><a href="https://github.com/Oppkey/FastOpp" class="text-gray-300 hover:text-white transition-colors" target="_blank" rel="noopener">GitHub Repository</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold mb-4">Resources</h3>
                        <ul class="space-y-2">
                            <li><a href="https://github.com/Oppkey/FastOpp#-quick-start-for-students" class="text-gray-300 hover:text-white transition-colors" target="_blank" rel="noopener">Quick Start Guide</a></li>
                            <li><a href="https://github.com/Oppkey/FastOpp#-management-commands" class="text-gray-300 hover:text-white transition-colors" target="_blank" rel="noopener">Documentation</a></li>
                            <li><a href="https://github.com/Oppkey/FastOpp#-troubleshooting" class="text-gray-300 hover:text-white transition-colors" target="_blank" rel="noopener">Troubleshooting</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="border-t border-gray-800 mt-8 pt-8 text-center">
                    <p class="text-gray-400">
                        &copy; 2025 Oppkey. Built with FastOpp and Jekyll.
                    </p>
                </div>
            </div>
        </footer>
    </div>
</body>
</html>
